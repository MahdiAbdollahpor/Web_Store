@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "AddNewProduct";
    Layout = "~/Areas/Admin/Views/Shared/_Adminlayout.cshtml";
}

<section class="basic-elements">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <div class="card-title-wrap bar-success">
                        <h4 class="card-title mb-0">افزودن محصول جدید</h4>
                    </div>
                </div>
                <div class="card-body">
                    <div class="px-0 px-md-3">
                        <div class="form">
                            <div class="form-body">
                                <div class="row">
                                    <!-- اطلاعات اصلی محصول -->
                                    <div class="col-12 col-md-6 col-lg-4 mb-2">
                                        <fieldset class="form-group">
                                            <label for="Name" class="form-label">نام محصول *</label>
                                            <input type="text" class="form-control" id="Name" placeholder="نام محصول">
                                        </fieldset>
                                    </div>

                                    <div class="col-12 col-md-6 col-lg-4 mb-2">
                                        <fieldset class="form-group">
                                            <label for="Brand" class="form-label">برند *</label>
                                            <input type="text" class="form-control" id="Brand" placeholder="برند محصول">
                                        </fieldset>
                                    </div>

                                    <div class="col-12 col-md-6 col-lg-4 mb-2">
                                        <fieldset class="form-group">
                                            <label for="Price" class="form-label">قیمت (تومان) *</label>
                                            <input type="number" class="form-control" id="Price" placeholder="قیمت محصول">
                                        </fieldset>
                                    </div>

                                    <div class="col-12 col-md-6 col-lg-4 mb-2">
                                        <fieldset class="form-group">
                                            <label for="Inventory" class="form-label">تعداد موجودی *</label>
                                            <input type="number" class="form-control" id="Inventory" placeholder="تعداد موجودی">
                                        </fieldset>
                                    </div>

                                    <div class="col-12 col-md-6 col-lg-4 mb-2">
                                        <fieldset class="form-group">
                                            <label for="Category" class="form-label">دسته‌بندی *</label>
                                            <select class="form-control" id="Category" asp-items="@ViewBag.Categories">
                                                <option value="">انتخاب کنید</option>
                                            </select>
                                        </fieldset>
                                    </div>

                                    <div class="col-12 col-md-6 col-lg-4 mb-2">
                                        <fieldset class="form-group">
                                            <label class="form-label d-block">نمایش در سایت</label>
                                            <div class="form-check form-check-inline">
                                                <input type="checkbox" class="form-check-input" id="Displayed">
                                                <label class="form-check-label" for="Displayed">فعال</label>
                                            </div>
                                        </fieldset>
                                    </div>

                                    <div class="col-12 mb-2">
                                        <fieldset class="form-group">
                                            <label for="Images" class="form-label">تصاویر محصول</label>
                                            <input type="file" multiple class="form-control" accept="image/*" id="Images">
                                            <small class="form-text text-muted">می‌توانید چند تصویر انتخاب کنید (حداکثر حجم هر تصویر: 2MB)</small>
                                        </fieldset>
                                    </div>

                                    <div class="col-12 mb-2">
                                        <fieldset class="form-group">
                                            <label for="Description" class="form-label">توضیحات محصول</label>
                                            <textarea id="Description" class="form-control" rows="4" placeholder="توضیحات کامل محصول"></textarea>
                                        </fieldset>
                                    </div>

                                    <div class="col-12">
                                        <hr>
                                        <h5 class="text-primary mb-3">ویژگی‌های محصول</h5>
                                    </div>

                                    <!-- افزودن ویژگی‌ها -->
                                    <div class="col-12 col-sm-4 mb-2">
                                        <fieldset class="form-group">
                                            <label for="txtDisplayName" class="form-label">نام ویژگی</label>
                                            <input type="text" class="form-control" id="txtDisplayName" placeholder="نام ویژگی">
                                        </fieldset>
                                    </div>

                                    <div class="col-12 col-sm-4 mb-2">
                                        <fieldset class="form-group">
                                            <label for="txtValue" class="form-label">مقدار ویژگی</label>
                                            <input type="text" class="form-control" id="txtValue" placeholder="مقدار ویژگی">
                                        </fieldset>
                                    </div>

                                    <div class="col-12 col-sm-4 mb-2">
                                        <fieldset class="form-group">
                                            <label class="form-label d-none d-sm-block">&nbsp;</label>
                                            <button class="btn btn-success w-100" id="btnAddFeatures">
                                                <i class="fa fa-plus"></i> افزودن ویژگی
                                            </button>
                                        </fieldset>
                                    </div>

                                    <!-- جدول ویژگی‌ها -->
                                    <div class="col-12 mb-3">
                                        <div class="table-responsive">
                                            <table id="tbl_Features" class="table table-bordered table-hover table-sm">
                                                <thead class="thead-light">
                                                    <tr>
                                                        <th width="40%">نام ویژگی</th>
                                                        <th width="40%">مقدار ویژگی</th>
                                                        <th width="20%">عملیات</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <!-- دکمه نهایی -->
                                    <div class="col-12 mt-3">
                                        <fieldset class="form-group">
                                            <button id="btnAddProduct" class="btn btn-success btn-lg w-100">
                                                <i class="fa fa-plus"></i> افزودن محصول جدید
                                            </button>
                                        </fieldset>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts
{
    <!-- اسکریپت‌های موجود بدون تغییر -->
    <style>
        @@media (max-width: 768px) {
            .card-body {
                padding: 1rem;
            }

            .form-group {
                margin-bottom: 1rem;
            }

            .form-control {
                font-size: 16px; /* جلوگیری از زوم در iOS */
            }

            .table-responsive {
                font-size: 0.9rem;
            }

            .btn {
                padding: 0.75rem;
            }
        }

        @@media (max-width: 576px) {
            .card-header {
                padding: 0.75rem;
            }

            .card-title {
                font-size: 1.1rem;
            }

            .form-label {
                font-weight: 600;
                margin-bottom: 0.5rem;
            }

            .table th, .table td {
                padding: 0.5rem;
            }

            .btn-lg {
                padding: 0.75rem;
                font-size: 1rem;
            }
        }

        @@media (max-width: 400px) {
            .card-body {
                padding: 0.75rem;
            }

            .form-group {
                margin-bottom: 0.75rem;
            }

            .table th, .table td {
                padding: 0.3rem;
                font-size: 0.8rem;
            }

            .btn {
                font-size: 0.9rem;
                padding: 0.5rem;
            }
        }

        /* استایل‌های عمومی */
        .table th {
            background-color: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
        }

        .btn-success {
            transition: all 0.3s ease;
        }

            .btn-success:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);
            }
    </style>
}